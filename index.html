<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kevin's Engineering Portfolio</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #ffffff;
            min-height: 100vh;
            padding: 0;
            color: #000000;
        }

        .hero-section {
            background-image: url('images/CHE181_A2.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            padding: 2rem;
            position: relative;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .main-content {
            padding: 2rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 3rem;
            position: relative;
        }

        .title-box {
            background: rgba(255, 255, 255, 0.95);
            padding: 2rem 3rem;
            border-radius: 12px;
            border: 2px solid #000000;
            display: inline-block;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        h1 {
            font-size: 3rem;
            margin-bottom: 0;
            font-weight: 700;
        }



        .about-section {
            max-width: 800px;
            margin: 0 auto 4rem auto;
            padding: 2rem;
            border: 2px solid #000000;
            border-radius: 12px;
            text-align: center;
            background: #d1eaf0;
        }

        .about-avatar {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 3px solid #000000;
            margin: 0 auto 1.5rem auto;
            background: #ffffff;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .about-avatar-img {
            width: 100%;
            height: 100%;
            object-fit: none;
            transform: scale(0.1);
        }

        .about-avatar-emoji {
            font-size: 4rem;
        }

        .about-section h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .about-section p {
            line-height: 1.8;
            font-size: 1.1rem;
            opacity: 0.8;
            margin-bottom: 1rem;
        }

        .about-links {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 1.5rem;
        }

        .about-link {
            padding: 0.5rem 1rem;
            border: 2px solid #000000;
            border-radius: 6px;
            text-decoration: none;
            color: #000000;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .about-link:hover {
            background: #000000;
            color: #ffffff;
        }

        .controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .filter-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .filter-btn {
            padding: 0.75rem 1.5rem;
            border: 2px solid #000000;
            border-radius: 8px;
            background: transparent;
            color: #000000;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-btn:hover {
            transform: translateY(-2px);
        }

        .filter-btn.active {
            background: #000000;
            color: #ffffff;
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .project-card {
            border: 2px solid #000000;
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #ffffff;
        }

        .project-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 24px rgba(0,0,0,0.15);
        }

        .project-image, .project-image-carousel {
            height: 200px;
            background: #ffffff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            border-bottom: 2px solid #000000;
            position: relative;
        }

        .project-content {
            padding: 1.5rem;
        }

        .project-title {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .project-category {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            background: #000000;
            color: #ffffff;
            border-radius: 4px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .project-description {
            line-height: 1.6;
            opacity: 0.8;
            margin-bottom: 1rem;
        }

        .project-specs {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .spec {
            padding: 0.4rem 0.8rem;
            border: 1px solid #000000;
            border-radius: 4px;
            font-size: 0.85rem;
        }



        .no-results {
            text-align: center;
            padding: 4rem 2rem;
            font-size: 1.2rem;
            opacity: 0.6;
            grid-column: 1 / -1;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 2rem;
        }

        .modal-content {
            background: #ffffff;
            border-radius: 12px;
            max-width: 800px;
            width: 100%;
            position: relative;
            margin: 2rem auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid #000000;
            background: #ffffff;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            z-index: 10;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: #000000;
            color: #ffffff;
        }

        .modal-body {
            padding: 2rem;
        }

        .modal-image, .modal-image-carousel {
            height: 450px;
            background: #ffffff;
            border: 2px solid #000000;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 6rem;
            margin-bottom: 1.5rem;
            position: relative;
        }

        .modal-title {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .modal-section {
            margin-bottom: 2rem;
        }

        .modal-section h3 {
            font-size: 1.3rem;
            margin-bottom: 0.75rem;
            font-weight: 600;
        }

        .modal-section p, .modal-section ul {
            line-height: 1.8;
            opacity: 0.8;
        }

        .modal-section ul {
            margin-left: 1.5rem;
            margin-top: 0.5rem;
        }

        .modal-section li {
            margin-bottom: 0.5rem;
        }

        .modal-specs {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .modal-spec {
            padding: 0.5rem 1rem;
            border: 2px solid #000000;
            border-radius: 6px;
            font-weight: 600;
        }

        .pdf-download-btn {
            display: block;
            padding: 0.75rem 1.5rem;
            background: #000000;
            color: #ffffff;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
            text-align: center;
            width: 100%;
        }

        .pdf-download-btn:hover {
            background: #333333;
        }

        .carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid #000000;
            background: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.5rem;
            z-index: 2;
            transition: all 0.3s ease;
        }

        .carousel-nav:hover {
            background: #ffffff;
        }

        .carousel-prev {
            left: 10px;
        }

        .carousel-next {
            right: 10px;
        }

        .carousel-dots {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            z-index: 2;
        }

        .carousel-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.6);
            border: 2px solid #000000;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .carousel-dot.active {
            background: #000000;
        }

        footer {
            text-align: center;
            padding: 2rem 0;
            border-top: 2px solid #000000;
            margin-top: 3rem;
            opacity: 0.6;
        }

        @media (max-width: 768px) {
            .hero-section {
                padding: 1rem;
            }

            .main-content {
                padding: 1rem;
            }

            .title-box {
                padding: 1.5rem 2rem;
            }

            h1 {
                font-size: 2rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }
            
            .projects-grid {
                grid-template-columns: 1fr;
            }
            
            .modal.active {
                padding: 1rem;
            }
            
            .modal-content {
                margin: 1rem auto;
            }
        }
    </style>
</head>
<body>
    <div class="hero-section">
        <div class="hero-content">
            <div class="container">
                <header>
                    <div class="title-box">
                        <h1>Kevin's Engineering Portfolio</h1>
                    </div>
                </header>

                <section class="about-section">
                    <div class="about-avatar">
                        <img src="images/portrait.jpg" alt="Kevin Portrait" width="180px" height="150px">
                    </div>
                    <h2>About Me</h2>
                    <p>
                        Hi!
                    </p>
                    <p> 
                        I'm a chemical engineer passionate about bringing ideas to life through coding, 
                        CAD design, and hands-on prototyping. With experience in a variety of 
                        industry processes, I specialize in creating functional, innovative solutions to 
                        engineering challenges.
                    </p>
                    <p>
                        I thrive in hands-on, fast-learning environments where ideas evolve through iteration.
                        From building and testing prototypes to refining designs in CAD or code, I enjoy the process 
                        of translating theory into working systems and continuously improving them through experimentation.
                    </p>
                </section>
            </div>
        </div>
    </div>

    <div class="main-content">
        <div class="container">

        <div class="controls">
            <div class="filter-buttons">
                <button class="filter-btn active" data-category="all">All Projects</button>
                <button class="filter-btn" data-category="SolidWorks">SolidWorks</button>
                <button class="filter-btn" data-category="AutoCAD">AutoCAD</button>
                <button class="filter-btn" data-category="Coding">Coding</button>
                <button class="filter-btn" data-category="Other">Other</button>
            </div>
        </div>

        <div class="projects-grid" id="projectsGrid"></div>

        <footer>
            <p>Last updated: <span id="lastModified"></span></p>
        </footer>
        </div>
    </div>

    <div class="modal" id="projectModal">
        <div class="modal-content">
            <button class="modal-close" id="closeModal">Ã—</button>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>

    <script>
        let currentFilter = 'all';

        const projects = [
            {
                title: "Card Holder",
                category: "SolidWorks",
                description: "Personal Project - A simple card holder designed in SolidWorks as one of the first tests on a new 3D printer",
                fullDescription: "A simple card holder designed in SolidWorks as one of the first tests on a new 3D printer. Measurements for the holder were taken with a caliper directly from the card, and the SolidWorks draft was completed within 10 minutes. The entire process from initial concept to a finished 3D printed part took just under an hour, making it a quick and satisfying way to dial in printer configurations and settings.",
                images: ["images/Holder.jpg","images/Holder_Card.jpeg"],
                specs: ["SolidWorks", "Project", "Hobby"],
                details: {
                    objective: "",
                    approach: "",
                    outcome: ""
                }
            },
            {
                title: "Electromagnetic Generator",
                category: "SolidWorks",
                description: "Personal Project - A venture into electromagnetic principles and the production of electricity",
                fullDescription: "Initial prototype of an electromagnetic generator designed to explore electromagnetic principles and electricity generation through hands-on experimentation. While output power is currently low, the primary goal is to validate the theory and eventually power an LED. Future iterations (V2) will include a more robust system with a gear-driven mechanism for rotating the magnetic wheel and improved connections for LED/output testing.",
                images: ["images/GeneratorV1.png", "images/GeneratorV1Pic.jpeg"],
                specs: ["SolidWorks", "Project", "Prototype"],
                details: {
                    objective: "Build a functional electromagnetic generator from first principles to better understand energy generation, with the goal of producing enough power to light an LED.",
                    approach: "Designed the initial prototype in SolidWorks focusing on proof-of-concept rather than optimisation. The system uses a rotating magnetic wheel to induce current in stationary coils. Assembled and tested the prototype to validate electromagnetic theory through hands-on experimentation.",
                    outcome: "Successfully generated measurable electrical output, confirming the electromagnetic principles. Current output is low but functional. Plans for V2 include implementing a gear system for the magnetic wheel rotation and improved electrical connections for more reliable LED testing and power output measurement."
                }
            },
            {
                title: "Pokemon Card Inventory",
                category: "Other",
                description: "Personal Project - Organized Excel spreadsheets with sorting capabilities to track card inventory",
                fullDescription: "Comprehensive Excel-based inventory tracking system designed for managing a PokÃ©mon Trading Card collection with real-time price checking capabilities and advanced filtering for efficient vending at card shows.",
                images: ["images/Inventory.png", "images/InventoryProcessed.png"],
                specs: ["Excel", "Project"],
                details: {
                    objective: "Develop a comprehensive Excel-based system to manage a personal PokÃ©mon Trading Card collection, enabling efficient inventory tracking, transaction monitoring, and real-time price verification while vending at card shows.",
                    approach: [
                        "Created a multi-column spreadsheet with 13 key data fields capturing complete card and transaction information",
                        "Organized entries chronologically from May 2025 through October 2025",
                        "Implemented standardized categories for card type (Raw, Sealed, Graded), condition (NM, MP, HP, PSA), and transaction type (Trade In, Trade Out, Sold, Bought)",
                        "Integrated Power Query for dynamic data filtering and manipulation",
                        "Built custom queries to segment inventory by transaction type, set, condition, and date ranges",
                        "Developed pricing formulas for rapid market value lookup during card shows"
                    ],
                    outcome: "Successfully created a functional inventory management system tracking 40+ cards across multiple PokÃ©mon TCG sets with complete transaction history. The system provides instant access to card availability, pricing data, and trading partner records, streamlining the vending process and enabling data-driven decisions at card shows."
                }
            },
            {
                title: "Separatory Funnel Stopcock",
                category: "AutoCAD",
                description: "Technical drawing for CHE 181 - Based on measurements taken using a caliper",
                fullDescription: "Technical drawing of a separatory funnel stopcock produced from real physical measurements taken with a caliper for CHE 181. All dimensions were manually measured from the component and transcribed into an accurate 2D orthographic drawing, including the M11x1.5 thread specification, through-holes, and radii. All dimensions in millimeters with left-right symmetry about the centerline.",
                icon: "images/CHE181_A3.jpg",
                pdfUrl: "pdfs/CHE181_A3.pdf",
                specs: ["AutoCAD", "Assignment", "Technical drawing"],
                details: {
                    objective: "",
                    approach: "",
                    outcome: ""
                }
            },
            {
                title: "Mass Flow Meter",
                category: "AutoCAD",
                description: "Technical drawing for CHE 181 - Replicating Mass Flow Meter technical drawing",
                fullDescription: "Multi-view technical drawing replicating an existing mass flow meter design for CHE 181. The drawing includes a front view, top view, and side view showing the cylindrical housing, flange connections, and sensor mount. Material specified as 3003 Aluminum with all dimensions in millimeters. Left-right symmetrical about the centerline.",
                icon: "images/CHE181_A2.png",
                pdfUrl: "pdfs/CHE181_A2.pdf",
                specs: ["AutoCAD", "Assignment", "Technical Drawing"],
                details: {
                    objective: "",
                    approach: "",
                    outcome: ""
                }
            },
            {
                title: "E6 Nitrogen Tank P&ID",
                category: "AutoCAD",
                description: "P&ID for CHE 181 - Modelling an existing nitrogen tank at the University of Waterloo",
                fullDescription: "Piping and Instrumentation Diagram (P&ID) created for CHE 181, modelling an existing nitrogen tank located at the University of Waterloo. The diagram was produced by following online documentation to translate the real piping, valves, instrumentation, and connections into a standardised P&ID format.",
                icon: "images/CHE181_P&ID.png",
                pdfUrl: "pdfs/CHE181_P&ID.pdf",
                specs: ["AutoCAD", "Assignment", "Technical Drawing"],
                details: {
                    objective: "",
                    approach: "",
                    outcome: ""
                }
            },
            {
                title: "Hydrogen Analysis",
                category: "Coding",
                description: "Program for McGill University - Analyzing hydrogen content in natural gas samples",
                fullDescription: "A data analysis program built during work term at McGill University that processes hydrogen readings from equipment analysing natural gas samples at very precise concentrations in the parts per billion (ppb) range. The program converts raw database format output files into readable plots, and cross-references the equipment readings with Excel sample run times and names to produce clean, organised results.",
                images: ["images/Hydrogen_DB.png", "images/Hydrogen_Plot.png"],
                specs: ["Python", "Project", "MatPlotLib", "SQLite3", "Pandas"],
                details: {
                    objective: "",
                    approach: "",
                    outcome: ""
                }
            },
            {
                title: "Temperature Analysis",
                category: "Coding",
                description: "Program for CHE 181 - Gathering temperature data using Arduino to determine freezing points of water solutions",
                fullDescription: "Data collection and analysis program developed for CHE 181 to determine the freezing points of pure water and sugar water solutions. The program reads continuous temperature data from an RTD sensor connected to an Arduino over several hours, writing the output to an Excel file. The recorded data was then used to generate temperature vs. time graphs to visually identify and compare the freezing points of each solution.",
                images: ["images/FreezingWater.jpg","images/FreezingSugar.png","images/FreezingCode.png"],
                specs: ["Python", "Assignment", "Arduino"],
                details: {
                    objective: "",
                    approach: "",
                    outcome: ""
                }
            }
        ];

        class Carousel {
            constructor(container, images, isModal) {
                this.container = container;
                this.images = images;
                this.isModal = isModal;
                this.currentIndex = 0;
                this.render();
            }

            render() {
                const isImage = img => img.startsWith('data:image') || img.includes('/') || img.includes('.');
                
                this.container.innerHTML = `
                    ${this.images.map((img, i) => 
                        `<div style="display: ${i === 0 ? 'flex' : 'none'}; width: 100%; height: 100%; align-items: center; justify-content: center;" class="carousel-slide">
                            ${isImage(img) ? `<img src="${img}" style="width: 100%; height: 100%; object-fit: contain;">` : img}
                        </div>`
                    ).join('')}
                    ${this.images.length > 1 ? `
                        <button class="carousel-nav carousel-prev">â€¹</button>
                        <button class="carousel-nav carousel-next">â€º</button>
                        <div class="carousel-dots">
                            ${this.images.map((_, i) => `<div class="carousel-dot ${i === 0 ? 'active' : ''}"></div>`).join('')}
                        </div>
                    ` : ''}
                `;

                if (this.images.length > 1) {
                    this.container.querySelector('.carousel-prev').addEventListener('click', (e) => {
                        e.stopPropagation();
                        this.navigate(-1);
                    });
                    this.container.querySelector('.carousel-next').addEventListener('click', (e) => {
                        e.stopPropagation();
                        this.navigate(1);
                    });
                    this.container.querySelectorAll('.carousel-dot').forEach((dot, i) => {
                        dot.addEventListener('click', (e) => {
                            e.stopPropagation();
                            this.goToSlide(i);
                        });
                    });
                }
            }

            navigate(direction) {
                this.currentIndex = (this.currentIndex + direction + this.images.length) % this.images.length;
                this.updateSlides();
            }

            goToSlide(index) {
                this.currentIndex = index;
                this.updateSlides();
            }

            updateSlides() {
                const slides = this.container.querySelectorAll('.carousel-slide');
                const dots = this.container.querySelectorAll('.carousel-dot');
                
                slides.forEach((slide, i) => {
                    slide.style.display = i === this.currentIndex ? 'flex' : 'none';
                });
                
                dots.forEach((dot, i) => {
                    dot.classList.toggle('active', i === this.currentIndex);
                });
            }
        }

        function formatContent(content) {
            if (Array.isArray(content)) {
                return `<ul>${content.map(item => `<li>${item}</li>`).join('')}</ul>`;
            }
            return `<p>${content}</p>`;
        }

        function openModal(project) {
            const modal = document.getElementById('projectModal');
            const modalBody = document.getElementById('modalBody');
            
            const useCarousel = project.images && project.images.length > 0;
            const displayImages = useCarousel ? project.images : [project.icon];
            
            modalBody.innerHTML = `
                <div class="${useCarousel ? 'modal-image-carousel' : 'modal-image'}" id="modalImageContainer">
                    ${!useCarousel && (project.icon.startsWith('data:image') || project.icon.includes('/') || project.icon.includes('.')) 
                        ? `<img src="${project.icon}" style="width: 100%; height: 100%; object-fit: contain;" alt="${project.title}">` 
                        : !useCarousel ? project.icon : ''}
                </div>
                
                ${project.pdfUrl ? `<a href="${project.pdfUrl}" class="pdf-download-btn" target="_blank">ðŸ“„ View Full PDF</a>` : ''}
                
                <h2 class="modal-title">${project.title}</h2>
                <span class="project-category">${project.category}</span>
                
                <div class="modal-section">
                    <p>${project.fullDescription}</p>
                </div>
                
                <div class="modal-section">
                    <h3>Tags</h3>
                    <div class="modal-specs">
                        ${project.specs.map(spec => `<span class="modal-spec">${spec}</span>`).join('')}
                    </div>
                </div>
        
                ${project.details.objective ? `
                    <div class="modal-section">
                        <h3>Project Objective</h3>
                        ${formatContent(project.details.objective)}
                    </div>
                ` : ''}
                
                ${project.details.approach ? `
                    <div class="modal-section">
                        <h3>Approach</h3>
                        ${formatContent(project.details.approach)}
                    </div>
                ` : ''}
                
                ${project.details.outcome ? `
                    <div class="modal-section">
                        <h3>Outcome</h3>
                        ${formatContent(project.details.outcome)}
                    </div>
                ` : ''}
        
                ${project.videos && project.videos.length > 0 ? `
                    <div style="display: flex; flex-direction: column; gap: 0.75rem; margin-bottom: 1.5rem;">
                        ${project.videos.map(video => `
                            <video controls style="width: 100%; border: 2px solid #000000; border-radius: 8px;">
                                <source src="${video}" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                        `).join('')}
                    </div>
                ` : ''}
            `;
            
            if (useCarousel) {
                const container = document.getElementById('modalImageContainer');
                new Carousel(container, displayImages, true);
            }
            
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            const modal = document.getElementById('projectModal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function renderProjects() {
            const grid = document.getElementById('projectsGrid');
            
            const filtered = projects.filter(project => 
                currentFilter === 'all' || project.category === currentFilter
            );
        
            if (filtered.length === 0) {
                grid.innerHTML = '<div class="no-results">No projects found in this category.</div>';
                return;
            }
        
            grid.innerHTML = filtered.map((project, index) => {
                const projectIndex = projects.indexOf(project);
                const useCarousel = project.images && project.images.length > 0;
                
                return `
                    <div class="project-card" onclick="openModal(projects[${projectIndex}])">
                        <div class="${useCarousel ? 'project-image-carousel' : 'project-image'}" id="carousel-${projectIndex}">
                            ${!useCarousel && (project.icon.startsWith('data:image') || project.icon.includes('/') || project.icon.includes('.')) 
                                ? `<img src="${project.icon}" style="width: 100%; height: 100%; object-fit: contain;" alt="${project.title}">` 
                                : !useCarousel ? project.icon : ''}
                        </div>
                        <div class="project-content">
                            <h3 class="project-title">${project.title}</h3>
                            <span class="project-category">${project.category}</span>
                            <p class="project-description">${project.description}</p>
                            <div class="project-specs">
                                ${project.specs.map(spec => `<span class="spec">${spec}</span>`).join('')}
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        
            filtered.forEach((project) => {
                const projectIndex = projects.indexOf(project);
                if (project.images && project.images.length > 0) {
                    const container = document.getElementById(`carousel-${projectIndex}`);
                    if (container) {
                        new Carousel(container, project.images, false);
                    }
                }
            });
        }

        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentFilter = btn.dataset.category;
                renderProjects();
            });
        });

        document.getElementById('closeModal').addEventListener('click', closeModal);
        
        document.getElementById('projectModal').addEventListener('click', (e) => {
            if (e.target.id === 'projectModal') closeModal();
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeModal();
        });

        renderProjects();
        document.getElementById('lastModified').textContent = document.lastModified;
    </script>
</body>
</html>
